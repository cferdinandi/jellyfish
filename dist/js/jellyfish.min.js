/** Jellyfish v3.2.0, by Chris Ferdinandi | http://github.com/cferdinandi/jellyfish | Licensed under MIT: http://gomakethings.com/mit/ */
!function(t,e){"function"==typeof define&&define.amd?define("jellyfish",e(t)):"object"==typeof exports?module.exports=e(t):t.jellyfish=e(t)}(this,function(t){"use strict";var e={},n=!!document.querySelector&&!!t.addEventListener,o={icon:"img/loading.gif",offset:0,type:"img",callbackBeforeIcons:function(){},callbackAfterIcons:function(){},callbackBeforeContent:function(){},callbackAfterContent:function(){}},i=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},r=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var i=0,r=t.length;r>i;i++)e.call(n,t[i],i,t)},c=function(t){return t.replace(/^\s+|\s+$/g,"")},a=function(t){var e={};return t&&(t=t.split(";"),t.forEach(function(t){t=c(t),""!==t&&(t=t.split(":"),e[t[0]]=c(t[1]))})),e};e.addLoadingIcons=function(t,e){var n=i(o,e||{});n.callbackBeforeIcons(t),r(t,function(t){var e=a(t.getAttribute("data-options")),o=e.icon||n.icon;t.innerHTML='<img src="'+o+'">'}),n.callbackBeforeIcons(t)};var l=function(t,e){var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight+e||document.documentElement.clientHeight+e)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},f=function(t){var e="";if(null!==t)for(var n in t)e=e+" "+n+'="'+t[n]+'"';return e},u=function(t,e,n){n=n||a(t.getAttribute("data-options"));var o=t.getAttribute("data-lazy-load"),i=a(t.getAttribute("data-load-attributes")),r=f(i),c=n.type||e.type;e.callbackBeforeContent(t),"img"===c.toLowerCase()?t.innerHTML="<img "+r+'src="'+o+'">':"iframe"===c.toLowerCase()&&(t.innerHTML="<iframe "+r+'src="'+o+'"></iframe>'),e.callbackAfterContent(t)};e.checkViewport=function(t,e){var n=i(o,e||{});r(t,function(t){var e=a(t.getAttribute("data-options")),o=e.offset||n.offset;l(t,o)!==!0||t.hasAttribute("data-content-loaded")||(u(t,n,e),t.setAttribute("data-content-loaded",!0))})};var d=function(t,n,o){t||(t=setTimeout(function(){t=null,e.checkViewport(n,o)},66))};return e.init=function(t){if(n){var r,c=i(o,t||{}),a=document.querySelectorAll("[data-lazy-load]");0!==a.length&&(e.addLoadingIcons(a,c),e.checkViewport(a,c),window.addEventListener("scroll",d.bind(null,r,a,c),!1),window.addEventListener("resize",d.bind(null,r,a,c),!1))}},e});